{% load static %}     
     <!--TODO JS단에서 for문 써서 랜더링하기-->
<head>
</head>
<div class="container">
    <div id="uploadArea">       
    <h2 class="title">Upload</h2>
    <div class="diet_info">
        <!--TODO 날짜 함수로 바꾸기-->
        <div class="diet_ym">
            <span class="diet-year">{{date_list.year}}</span>년
            <span class="diet-month">{{date_list.month}}</span>월
            <span class="diet-day">{{date_list.day}}</span>일
        </div>
    </div>
    <hr>
    <form id='daily_form' method="POST" enctype="multipart/form-data">
    <input type="hidden" id="target_date" name="target_date" value="{{date_list.target_date}}">
    <!-- 안 쓰지만, JS를 한 파일로 공유하고 있어서 정의해야 에러가 안남-->
    <input type="hidden" id="morning_delete_flag" name='morning_delete_flag'value="False">
    <input type="hidden" id="lunch_delete_flag" name='lunch_delete_flag' value="False">
    <input type="hidden" id="dinner_delete_flag" name='dinner_delete_flag' value="False">
    <input type="hidden" id="snack_delete_flag" name='snack_delete_flag' value="False">
        {% csrf_token %} 
    <div class="diet-event">
        <div class="upload-box">
            <p class="px-5 message">Breakfast Image</p>
            <div id="drop-file-morning" class="drag-file">
                    <div id="morining-pre">
                    </div>
            </div>
            <label class="file-label" for="morning_diet">Choose</label>
            <input class="hidden" type="file" id="morning_diet" name="morning_diet" accept="image/png, image/jpeg, image/gif"  onchange='inputRenderFile(this.id,this.files)'  required="false" hidden>
            <label class="delete-label" for="delete_morning_diet">delete</label>
            <button type="button" class="invisible" id="delete_morning_diet" onclick="deleteImage(this.id)"></button>
        </div>
        <div class="upload-box">
            <p class="px-5 message">Lunch Image</p>
            <div id="drop-file-lunch" class="drag-file">
                    <div id="lunch-pre">
                    </div>
            </div>
            <label class="file-label" for="lunch_diet">Choose</label>
            <input class="lunch-file" id="lunch_diet" name="lunch_diet" type="file" accept="image/png, image/jpeg, image/gif" onchange='inputRenderFile(this.id,this.files)' required="false" hidden>
            <label class="delete-label" for="delete_lunch_diet">delete</label>
            <button class="invisible delete_lunch_diet" id="delete_lunch_diet" onclick="deleteImage(this.id)" type="button"></button>
        </div>
        <div class="upload-box">
            <p class="px-5 message">Dinner Image</p>
            <div id="drop-file-dinner" class="drag-file">
                    <div id="dinner-pre">
                    </div>
            </div>
            <label class="file-label" for="dinner_diet">Choose</label>
            <input class="dinner-file" id="dinner_diet" name="dinner_diet" type="file"  accept="image/png, image/jpeg, image/gif" onchange='inputRenderFile(this.id,this.files)' required="false" hidden>
            <label class="delete-label" for="delete_dinner_diet">delete</label>
            <button class="invisible delete_dinner_diet" id="delete_dinner_diet" onclick="deleteImage(this.id)" type="button"></button>
        </div>
        <div class="upload-box">
            <p class="px-5 message">Dissert Image</p>
            <div id="drop-file-snack" class="drag-file">
                    <div id="snack-pre">
                    </div>
            </div>
            <label class="file-label" for="snack_diet">Choose</label>
            <input class="snack-file" id="snack_diet" name="snack_diet" type="file" accept="image/png, image/jpeg, image/gif" onchange='inputRenderFile(this.id,this.files)' required="false" hidden>
            <label class="delete-label" for="delete_snack_diet">delete</label>
            <button class="invisible delete_snack_diet"  id="delete_snack_diet" onclick="deleteImage(this.id)" type="button"></button>
        </div>
        <div class="diet_set">
            <button class="diet_btn" onclick='validationCheck()'>submit</button>
        </div>
    </from>
</div>
</div>
<script src="{% static 'js/multiple_upload.js' %}"></script>
{% if messages %}
{% for message in messages %}
<script>
    var message = '{{ message.message }}';
    alert(message);
</script>
{% endfor %}
{% endif %}
